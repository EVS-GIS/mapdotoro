<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A R package to prepare the Fluvial Corridor Toolbox Python
    data to mapdoapp web application.">
<title>Prepare The Fluvial Corridor Toolbox Python Data • mapdotoro</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Prepare The Fluvial Corridor Toolbox Python Data">
<meta property="og:description" content="A R package to prepare the Fluvial Corridor Toolbox Python
    data to mapdoapp web application.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">mapdotoro</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="mapdotoro">mapdotoro<a class="anchor" aria-label="anchor" href="#mapdotoro"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>Mapdotoro aim to prepared the Fluvial Corridor Toolbox data outputs to the shiny application mapdoapp.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of mapdotoro from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"EVS-GIS/mapdotoro"</span><span class="op">)</span></span></code></pre></div>
<p>mapdotoro use qgisprocess package, <a href="https://www.qgis.org/en/site/" class="external-link">QGIS</a> with the <a href="https://github.com/EVS-GIS/fct-qgis" class="external-link">Fluvial Corridor Toolbox</a> plugin installed.</p>
<p>Tested with QGIS version 3.28.13 and Fluvial Corridor Toolbox version 1.0.11.</p>
</div>
<div class="section level2">
<h2 id="how-to-cite">How to cite<a class="anchor" aria-label="anchor" href="#how-to-cite"></a>
</h2>
<p>Manière, L. (2024). mapdotoro (Version 1.0.0) [Computer software]. <a href="https://github.com/EVS-GIS/mapdotoro" class="external-link uri">https://github.com/EVS-GIS/mapdotoro</a></p>
</div>
<div class="section level2">
<h2 id="licence">Licence<a class="anchor" aria-label="anchor" href="#licence"></a>
</h2>
<p>This program is released under the <a href="https://github.com/EVS-GIS/mapdoapp/blob/main/LICENSE" class="external-link">GNU Public License v3</a>.</p>
</div>
<div class="section level2">
<h2 id="workflow">Workflow<a class="anchor" aria-label="anchor" href="#workflow"></a>
</h2>
<div class="section level3">
<h3 id="get-troncon-id-and-cours-deau-id-from-the-ign-bd-topo-in-postgresqlpostgis-database">Get troncon id and cours d’eau id from the IGN BD TOPO in PostgreSQL/PostGIS database<a class="anchor" aria-label="anchor" href="#get-troncon-id-and-cours-deau-id-from-the-ign-bd-topo-in-postgresqlpostgis-database"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    cleabs <span class="kw">AS</span> id_troncon,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>   <span class="co">-- we can have several cours d'eau for one troncon like COURDEAU0000002215482270/COURDEAU0000002215482269</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>   <span class="co">-- keep ony the first (like in BDTOPO2REFHYDRO) the create BIGINT like 2215482270</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">CASE</span> </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">WHEN</span> POSITION(<span class="st">'/'</span> <span class="kw">IN</span> liens_vers_cours_d_eau) <span class="op">&gt;</span> <span class="dv">0</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>            <span class="cf">THEN</span> <span class="fu">CAST</span>(<span class="fu">regexp_replace</span>(</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>                <span class="fu">regexp_replace</span>(</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>                    SUBSTRING(liens_vers_cours_d_eau <span class="kw">FROM</span> <span class="dv">1</span> <span class="cf">FOR</span> POSITION(<span class="st">'/'</span> <span class="kw">IN</span> liens_vers_cours_d_eau) <span class="op">-</span> <span class="dv">1</span>), </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>                    <span class="st">'[^0-9]'</span>, <span class="st">''</span>, <span class="st">'g'</span>), <span class="st">'0*$'</span>, <span class="st">''</span>) <span class="kw">AS</span> BIGINT)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">ELSE</span> <span class="fu">CAST</span>(<span class="fu">regexp_replace</span>(</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>            <span class="fu">regexp_replace</span>(liens_vers_cours_d_eau, </span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>                           <span class="st">'[^0-9]'</span>, <span class="st">''</span>, <span class="st">'g'</span>), <span class="st">'0*$'</span>, <span class="st">''</span>) <span class="kw">AS</span> BIGINT)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>      <span class="cf">END</span> <span class="kw">AS</span> axis</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> <span class="kw">public</span>.troncon_hydrographique</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co">-- filter to keep only troncon where liens_vers_cours_d_eau is not NULL or empty</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> (liens_vers_cours_d_eau <span class="kw">IS</span> <span class="kw">NOT</span> <span class="kw">NULL</span> <span class="kw">AND</span> liens_vers_cours_d_eau <span class="op">!=</span> <span class="st">''</span>)</span></code></pre></div>
<p><strong>Export the table in csv to ./data-raw/raw-datasets/troncon_bdtopo_id.csv</strong></p>
</div>
<div class="section level3">
<h3 id="testing-data">Testing data<a class="anchor" aria-label="anchor" href="#testing-data"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">input_bassin_hydrographique</span> <span class="op">&lt;-</span> <span class="va">bassin_hydrographique</span></span>
<span><span class="va">input_region_hydrographique</span> <span class="op">&lt;-</span> <span class="va">region_hydrographique</span></span>
<span><span class="va">input_roe</span> <span class="op">&lt;-</span> <span class="va">roe</span></span>
<span><span class="va">input_hydro_sites</span> <span class="op">&lt;-</span> <span class="va">hydro_sites</span></span>
<span><span class="va">input_referentiel_hydro</span> <span class="op">&lt;-</span> <span class="va">referentiel_hydro</span></span>
<span><span class="va">input_swaths</span> <span class="op">&lt;-</span> <span class="va">swaths</span></span>
<span><span class="va">input_talweg_metrics</span> <span class="op">&lt;-</span> <span class="va">talweg_metrics</span></span>
<span><span class="va">input_landcover</span> <span class="op">&lt;-</span> <span class="va">landcover</span></span>
<span><span class="va">input_continuity</span> <span class="op">&lt;-</span> <span class="va">continuity</span></span>
<span><span class="va">input_valley_bottom</span> <span class="op">&lt;-</span> <span class="va">valley_bottom</span></span>
<span><span class="va">input_troncon_bdtopo_id</span> <span class="op">&lt;-</span> <span class="va">troncon_bdtopo_id</span></span>
<span><span class="va">input_elevation_profiles</span> <span class="op">&lt;-</span> <span class="va">elevation_profiles</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="datasets-from-the-fluvial-corridor-toolbox">Datasets from the Fluvial Corridor Toolbox<a class="anchor" aria-label="anchor" href="#datasets-from-the-fluvial-corridor-toolbox"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">input_bassin_hydrographique</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span>dsn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data-raw"</span>, <span class="st">"raw-datasets"</span>,</span>
<span>                                                 <span class="st">"bassin_hydrographique.gpkg"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">input_region_hydrographique</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span>dsn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data-raw"</span>, <span class="st">"raw-datasets"</span>,</span>
<span>                                                 <span class="st">"region_hydrographique.gpkg"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">input_roe</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span>dsn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data-raw"</span>, <span class="st">"raw-datasets"</span>, <span class="st">"roe.gpkg"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">input_hydro_sites</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/import_hydro_sites.html">import_hydro_sites</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">input_talweg_metrics</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data-raw"</span>, <span class="st">"raw-datasets"</span>, <span class="st">"TALWEG_METRICS.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">input_referentiel_hydro</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span>dsn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data-raw"</span>, <span class="st">"raw-datasets"</span>, <span class="st">"REFERENTIEL_HYDRO.shp"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">input_swaths</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span>dsn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data-raw"</span>, <span class="st">"raw-datasets"</span>, <span class="st">"SWATHS_MEDIALAXIS.shp"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">input_landcover</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data-raw"</span>, <span class="st">"raw-datasets"</span>, <span class="st">"WIDTH_LANDCOVER.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">input_continuity</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data-raw"</span>, <span class="st">"raw-datasets"</span>, <span class="st">"WIDTH_CONTINUITY.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">input_valley_bottom</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data-raw"</span>, <span class="st">"raw-datasets"</span>, <span class="st">"WIDTH_VALLEY_BOTTOM.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">input_troncon_bdtopo_id</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data-raw"</span>, <span class="st">"raw-datasets"</span>, <span class="st">"troncon_bdtopo_id.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">input_elevation_profiles</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data-raw"</span>, <span class="st">"raw-datasets"</span>, <span class="st">"SWATH_ELEVATION_PROFILES.csv"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="prepare-dataset">Prepare dataset<a class="anchor" aria-label="anchor" href="#prepare-dataset"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bassin_hydrographique</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/prepare_bassin_hydrographique.html">prepare_bassin_hydrographique</a></span><span class="op">(</span><span class="va">input_bassin_hydrographique</span><span class="op">)</span></span>
<span></span>
<span><span class="va">region_hydrographique</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/prepare_region_hydrographique.html">prepare_region_hydrographique</a></span><span class="op">(</span><span class="va">input_region_hydrographique</span><span class="op">)</span></span>
<span></span>
<span><span class="va">hydro_sites</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/prepare_hydro_sites.html">prepare_hydro_sites</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">input_hydro_sites</span>,</span>
<span>                                   region_hydro <span class="op">=</span> <span class="va">region_hydrographique</span><span class="op">)</span></span>
<span></span>
<span><span class="va">talweg_metrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/prepare_talweg_metrics.html">prepare_talweg_metrics</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">input_talweg_metrics</span><span class="op">)</span></span>
<span></span>
<span><span class="va">landcover_area</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/prepare_landcover_area.html">prepare_landcover_area</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">input_landcover</span><span class="op">)</span></span>
<span></span>
<span><span class="va">continuity_area</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/prepare_continuity_area.html">prepare_continuity_area</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">input_continuity</span><span class="op">)</span></span>
<span></span>
<span><span class="va">continuity_width</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/prepare_continuity_width.html">prepare_continuity_width</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">input_continuity</span><span class="op">)</span></span>
<span></span>
<span><span class="va">valley_bottom</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/prepare_valley_bottom.html">prepare_valley_bottom</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">input_valley_bottom</span><span class="op">)</span></span>
<span></span>
<span><span class="va">hydro_swaths_and_axis</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/prepare_hydro_swaths_and_axis.html">prepare_hydro_swaths_and_axis</a></span><span class="op">(</span>swaths_dataset <span class="op">=</span> <span class="va">input_swaths</span>,</span>
<span>                                                       referentiel_hydro_dataset <span class="op">=</span> <span class="va">input_referentiel_hydro</span>,</span>
<span>                                                       region_hydro <span class="op">=</span> <span class="va">region_hydrographique</span><span class="op">)</span></span>
<span></span>
<span><span class="va">roe</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/prepare_roe.html">prepare_roe</a></span><span class="op">(</span><span class="va">input_roe</span>,</span>
<span>                   region_hydro <span class="op">=</span> <span class="va">region_hydrographique</span>,</span>
<span>                   troncon_bdtopo_id <span class="op">=</span> <span class="va">input_troncon_bdtopo_id</span>,</span>
<span>                   hydro_axis <span class="op">=</span> <span class="va">hydro_swaths_and_axis</span><span class="op">$</span><span class="va">hydro_axis</span><span class="op">)</span></span>
<span></span>
<span><span class="va">elevation_profiles</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/prepare_elevation_profiles.html">prepare_elevation_profiles</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">input_elevation_profiles</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="set-database-structure">Set database structure<a class="anchor" aria-label="anchor" href="#set-database-structure"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/create_table_bassin_hydrographique.html">create_table_bassin_hydrographique</a></span><span class="op">(</span>table_name <span class="op">=</span> <span class="st">"bassin_hydrographique"</span>,</span>
<span>                                    db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/create_table_region_hydrographique.html">create_table_region_hydrographique</a></span><span class="op">(</span>table_name <span class="op">=</span> <span class="st">"region_hydrographique"</span>,</span>
<span>                                   db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/create_table_hydro_axis.html">create_table_hydro_axis</a></span><span class="op">(</span>table_name <span class="op">=</span> <span class="st">"hydro_axis"</span>,</span>
<span>                                   db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/create_table_hydro_swaths.html">create_table_hydro_swaths</a></span><span class="op">(</span>table_name <span class="op">=</span> <span class="st">"hydro_swaths"</span>,</span>
<span>                          db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/create_table_roe.html">create_table_roe</a></span><span class="op">(</span>table_name <span class="op">=</span> <span class="st">"roe"</span>,</span>
<span>                 db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/create_table_hydro_sites.html">create_table_hydro_sites</a></span><span class="op">(</span>table_name <span class="op">=</span> <span class="st">"hydro_sites"</span>,</span>
<span>                         db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/create_table_talweg_metrics.html">create_table_talweg_metrics</a></span><span class="op">(</span>table_name <span class="op">=</span> <span class="st">"talweg_metrics"</span>,</span>
<span>                            db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/create_table_landcover_area.html">create_table_landcover_area</a></span><span class="op">(</span>table_name <span class="op">=</span> <span class="st">"landcover_area"</span>,</span>
<span>                            db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/create_table_continuity_area.html">create_table_continuity_area</a></span><span class="op">(</span>table_name <span class="op">=</span> <span class="st">"continuity_area"</span>,</span>
<span>                             db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/create_table_continuity_width.html">create_table_continuity_width</a></span><span class="op">(</span>table_name <span class="op">=</span> <span class="st">"continuity_width"</span>,</span>
<span>                              db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/create_table_valley_bottom.html">create_table_valley_bottom</a></span><span class="op">(</span>table_name <span class="op">=</span> <span class="st">"valley_bottom"</span>,</span>
<span>                           db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/create_table_elevation_profiles.html">create_table_elevation_profiles</a></span><span class="op">(</span>table_name <span class="op">=</span> <span class="st">"elevation_profiles"</span>,</span>
<span>                                db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="add-functions-and-triggers-to-postgresql-database">Add functions and triggers to Postgresql database<a class="anchor" aria-label="anchor" href="#add-functions-and-triggers-to-postgresql-database"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># hydro_swaths triggers</span></span>
<span><span class="fu"><a href="reference/fct_hydro_swaths_insert_delete_reaction.html">fct_hydro_swaths_insert_delete_reaction</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, table_name <span class="op">=</span> <span class="st">"hydro_swaths"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/trig_hydro_swaths.html">trig_hydro_swaths</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, table_name <span class="op">=</span> <span class="st">"hydro_swaths"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># talweg_metrics triggers</span></span>
<span><span class="fu"><a href="reference/fct_talweg_metrics_insert_delete_reaction.html">fct_talweg_metrics_insert_delete_reaction</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, table_name <span class="op">=</span> <span class="st">"talweg_metrics"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/trig_talweg_metrics.html">trig_talweg_metrics</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, table_name <span class="op">=</span> <span class="st">"talweg_metrics"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># landcover_area triggers</span></span>
<span><span class="fu"><a href="reference/fct_landcover_area_insert_delete_reaction.html">fct_landcover_area_insert_delete_reaction</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, table_name <span class="op">=</span> <span class="st">"landcover_area"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/trig_landcover_area.html">trig_landcover_area</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, table_name <span class="op">=</span> <span class="st">"landcover_area"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># continuity_area triggers</span></span>
<span><span class="fu"><a href="reference/fct_continuity_area_insert_delete_reaction.html">fct_continuity_area_insert_delete_reaction</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, table_name <span class="op">=</span> <span class="st">"continuity_area"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/trig_continuity_area.html">trig_continuity_area</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, table_name <span class="op">=</span> <span class="st">"continuity_area"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># continuity_width triggers</span></span>
<span><span class="fu"><a href="reference/fct_continuity_width_insert_delete_reaction.html">fct_continuity_width_insert_delete_reaction</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, table_name <span class="op">=</span> <span class="st">"continuity_width"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/trig_continuity_width.html">trig_continuity_width</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, table_name <span class="op">=</span> <span class="st">"continuity_width"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># valley_bottom triggers</span></span>
<span><span class="fu"><a href="reference/fct_valley_bottom_insert_delete_reaction.html">fct_valley_bottom_insert_delete_reaction</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, table_name <span class="op">=</span> <span class="st">"valley_bottom"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/trig_valley_bottom.html">trig_valley_bottom</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, table_name <span class="op">=</span> <span class="st">"valley_bottom"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># elevation_profiles triggers</span></span>
<span><span class="fu"><a href="reference/fct_elevation_profiles_insert_delete_reaction.html">fct_elevation_profiles_insert_delete_reaction</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, table_name <span class="op">=</span> <span class="st">"elevation_profiles"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/trig_elevation_profiles.html">trig_elevation_profiles</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, table_name <span class="op">=</span> <span class="st">"elevation_profiles"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="create-views">Create views<a class="anchor" aria-label="anchor" href="#create-views"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/create_landcover_area_full_side_matview.html">create_landcover_area_full_side_matview</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, view_name <span class="op">=</span> <span class="st">"landcover_area_full_side"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/create_continuity_width_full_side_matview.html">create_continuity_width_full_side_matview</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, view_name <span class="op">=</span> <span class="st">"continuity_width_full_side"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/create_continuity_area_full_side_matview.html">create_continuity_area_full_side_matview</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, view_name <span class="op">=</span> <span class="st">"continuity_area_full_side"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/create_valley_bottom_full_side_matview.html">create_valley_bottom_full_side_matview</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, view_name <span class="op">=</span> <span class="st">"valley_bottom_full_side"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/create_network_metrics_matview.html">create_network_metrics_matview</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, view_name <span class="op">=</span> <span class="st">"network_metrics"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/create_network_axis_matview.html">create_network_axis_matview</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, view_name <span class="op">=</span> <span class="st">"network_axis"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="fixed-tables-database--insert-bassins-and-regions">Fixed tables database : insert bassins and regions<a class="anchor" aria-label="anchor" href="#fixed-tables-database--insert-bassins-and-regions"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Rows can't be deleted for these two tables </span></span>
<span><span class="fu"><a href="reference/upsert_bassin_hydrographique.html">upsert_bassin_hydrographique</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">bassin_hydrographique</span>,</span>
<span>                             table_name <span class="op">=</span> <span class="st">"bassin_hydrographique"</span>,</span>
<span>                             db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                             field_identifier <span class="op">=</span> <span class="st">"cdbh"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/upsert_region_hydrographique.html">upsert_region_hydrographique</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">region_hydrographique</span>,</span>
<span>                             table_name <span class="op">=</span> <span class="st">"region_hydrographique"</span>,</span>
<span>                             db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                             field_identifier <span class="op">=</span> <span class="st">"cdregionhy"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="update--insert-tables-and-refresh-materialized-view">Update / insert tables and refresh materialized view<a class="anchor" aria-label="anchor" href="#update--insert-tables-and-refresh-materialized-view"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># change display_codes_bassin_or_region to set the bassins and regions that can be explored by mapdoapp user</span></span>
<span><span class="fu"><a href="reference/set_displayed_bassin_region.html">set_displayed_bassin_region</a></span><span class="op">(</span>table_name <span class="op">=</span> <span class="st">"bassin_hydrographique"</span>,</span>
<span>                            display_codes_bassin_or_region <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"06"</span><span class="op">)</span>,</span>
<span>                            field_identifier <span class="op">=</span> <span class="st">"cdbh"</span>,</span>
<span>                            db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/set_displayed_bassin_region.html">set_displayed_bassin_region</a></span><span class="op">(</span>table_name <span class="op">=</span> <span class="st">"region_hydrographique"</span>,</span>
<span>                            display_codes_bassin_or_region <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"W"</span><span class="op">)</span>,</span>
<span>                            field_identifier <span class="op">=</span> <span class="st">"cdregionhy"</span>,</span>
<span>                            db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/upsert_hydro_sites.html">upsert_hydro_sites</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">hydro_sites</span>,</span>
<span>                   table_name <span class="op">=</span> <span class="st">"hydro_sites"</span>,</span>
<span>                   db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                   field_identifier <span class="op">=</span> <span class="st">"code_site"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/upsert_hydro_swaths_and_axis.html">upsert_hydro_swaths_and_axis</a></span><span class="op">(</span>hydro_swaths_dataset <span class="op">=</span> <span class="va">hydro_swaths_and_axis</span><span class="op">$</span><span class="va">hydro_swaths</span>,</span>
<span>                             hydro_swaths_table_name <span class="op">=</span> <span class="st">"hydro_swaths"</span>,</span>
<span>                             hydro_axis_dataset <span class="op">=</span> <span class="va">hydro_swaths_and_axis</span><span class="op">$</span><span class="va">hydro_axis</span>,</span>
<span>                             hydro_axis_table_name <span class="op">=</span> <span class="st">"hydro_axis"</span>,</span>
<span>                             db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                             field_identifier <span class="op">=</span> <span class="st">"axis"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/upsert_roe.html">upsert_roe</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">roe</span>,</span>
<span>           table_name <span class="op">=</span> <span class="st">"roe"</span>, </span>
<span>           db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, </span>
<span>           field_identifier <span class="op">=</span> <span class="st">"cdobstecou"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/upsert_talweg_metrics.html">upsert_talweg_metrics</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">talweg_metrics</span>,</span>
<span>                      table_name <span class="op">=</span> <span class="st">"talweg_metrics"</span>,</span>
<span>                      db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                      field_identifier <span class="op">=</span> <span class="st">"axis"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/upsert_landcover_area.html">upsert_landcover_area</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">landcover_area</span>,</span>
<span>                      table_name <span class="op">=</span> <span class="st">"landcover_area"</span>,</span>
<span>                      <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                      field_identifier <span class="op">=</span> <span class="st">"axis"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/upsert_continuity_area.html">upsert_continuity_area</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">continuity_area</span>,</span>
<span>                      table_name <span class="op">=</span> <span class="st">"continuity_area"</span>,</span>
<span>                      <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                      field_identifier <span class="op">=</span> <span class="st">"axis"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/upsert_continuity_width.html">upsert_continuity_width</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">continuity_width</span>,</span>
<span>                      table_name <span class="op">=</span> <span class="st">"continuity_width"</span>,</span>
<span>                      <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                      field_identifier <span class="op">=</span> <span class="st">"axis"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/upsert_valley_bottom.html">upsert_valley_bottom</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">valley_bottom</span>,</span>
<span>                     table_name <span class="op">=</span> <span class="st">"valley_bottom"</span>,</span>
<span>                     <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                     field_identifier <span class="op">=</span> <span class="st">"axis"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/upsert_elevation_profiles.html">upsert_elevation_profiles</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">elevation_profiles</span>,</span>
<span>                          table_name <span class="op">=</span> <span class="st">"elevation_profiles"</span>,</span>
<span>                          <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                          field_identifier <span class="op">=</span> <span class="st">"axis"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Refresh all the materialized views</span></span>
<span><span class="co"># !! order matters !! network_metrics depend of full_side views, need to be at last.</span></span>
<span><span class="va">materialized_views</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"landcover_area_full_side"</span>, <span class="st">"continuity_area_full_side"</span>,</span>
<span>                        <span class="st">"continuity_width_full_side"</span>, <span class="st">"valley_bottom_full_side"</span>,</span>
<span>                        <span class="st">"network_axis"</span>, <span class="st">"network_metrics"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/refresh_all_materialized_views.html">refresh_all_materialized_views</a></span><span class="op">(</span>db_con <span class="op">=</span> <span class="fu"><a href="reference/db_con.html">db_con</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">materialized_views</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing mapdotoro</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://github.com/LouisManiere" class="external-link">Louis Manière</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-0426-2975" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/LouisManiere" class="external-link">Louis Manière</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
